#!/usr/bin/env bash

command=datanode
bin=$(dirname "${BASH_SOURCE-$0}")
bin=$(cd "$bin"; pwd)
DEFAULT_LIBEXEC_DIR="$bin"/../libexec
HADOOP_LIBEXEC_DIR=${HADOOP_LIBEXEC_DIR:-$DEFAULT_LIBEXEC_DIR}
. "$HADOOP_LIBEXEC_DIR"/hadoop-config.sh
. "${bin}"/set-env.sh

pidDir=$HADOOP_PID_DIR
service=hadoop

<%= node['hops']['base_dir'] %>/sbin/kill-process.sh $service <%= node['hops']['hdfs']['user'] %> $command "$pidDir"

exit $?
